---
- name: Make this server pull packages from the local server, not from accross the internet
  hosts: 10.0.0.16
  become: true

  tasks:
    - name: Configure YUM/DNF to Use the Local Repository
      copy:
        content: |
          [local]
          name=local_ol9_baseos_latest
          baseurl=http://10.0.0.5/newrepo   # Update with your actual server URL
          enabled=1
          gpgcheck=0  # Change to 1 if you sign your packages
        dest: /etc/yum.repos.d/local.repo
      become: yes
